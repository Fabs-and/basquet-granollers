---
// Import utils
import { fetchPostsInCategory } from "fetch-wordpress-api";

// Import types
import type { Post } from "fetch-wordpress-api";

// Import Layouts
import BaseLayout from "@layouts/BaseLayout.astro";

// Import global (not global stores) variables/constants

const { projectes} = Astro.params;
import PageLayout from "@layouts/PageLayout.astro";

const projectesFromWP =  await fetchPostsInCategory(42, ['title', 'content', 'image', 'slug', 'date']);

const project = projectesFromWP.find((project) => project.slug === projectes);
if (!project) return Astro.redirect("/404");

// export async function getStaticPaths() {
//   const projects = await fetchPostsInCategory(42);

//   return projects.map((project: Post) => {
//     return {
//       params: { projectes: project.slug },
//       props: {
//         title: project.title.rendered,
//         content: project.content.rendered,
//         id: project.id,
//         date: project.date,
//         image: project.image,
//       },
//     };
//   });
// }

// const project = Astro.props;

---

  <PageLayout post={project} pageTitle={project.title.rendered} isPost={true}/>

