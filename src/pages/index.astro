---
// Import types
// import { Endpoints, CategoryFields } from 'src/types';

// Import Layouts
import BaseLayout from '@layouts/BaseLayout.astro';

// Import components
import GridPostCard from '@components/postCards/GridPostCard.astro';
import HeroSection from '@components/heroSection/HeroSection.astro';
import MainSponsors from '@components/sponsors/MainSponsors.astro';
import AllSponsors from '@components/sponsors/AllSponsors.astro';
import Projects from '@components/projects/Projects.astro';
// Import api functions from utils
import CarouselProjects from '@components/projects/CarouselProjects.astro';
import {
  configure,
  fetchAllCategories,
  fetchPosts,
} from 'fetch-wordpress-api';

import type { Category, Post } from 'fetch-wordpress-api';
// Import global (not global stores) variables/constants
import { postFields, categoryFields } from 'src/data/apiGlobalConsts';

import { BASE_URL } from 'src/config';

configure({BASE_URL: BASE_URL})

const posts: Post[] = await fetchPosts(8);

// console.log(posts[1])

const allCategories: Category[] = await fetchAllCategories(categoryFields);

const title = 'El Putu Dapps';
---

<BaseLayout {title}>
  <HeroSection/>
  <MainSponsors/>
  <GridPostCard
    {posts}
    {allCategories}
  />
  <Projects/>
  <AllSponsors/>
  <CarouselProjects/>
</BaseLayout>

