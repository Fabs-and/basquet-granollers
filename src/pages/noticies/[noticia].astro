---
// Import utils
import {
  fetchPostsInCategory,
} from "fetch-wordpress-api";

// Import types
import type { Post } from "fetch-wordpress-api";

// Import Layouts
import BaseLayout from "@layouts/BaseLayout.astro";

// Import global (not global stores) variables/constants
import PostLayout from "@layouts/PostLayout.astro";

export async function getStaticPaths() {
  const noticies = await fetchPostsInCategory(19);

  return noticies.map((noticia: Post) => {
    return {
      params: { noticia: noticia.slug },
      props: {
        title: noticia.title.rendered,
        content: noticia.content.rendered,
        id: noticia.id,
        date: noticia.date,
        image: noticia.image,
      },
    };
  });
}

const noticia = Astro.props;


---


<PostLayout post={noticia} pageTitle={noticia.title}/>

