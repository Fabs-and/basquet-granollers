---
// Import utils
import { fetchPostsInCategory } from "fetch-wordpress-api";

// Import types
import type { Post } from "fetch-wordpress-api";

// Import Layouts
import BaseLayout from "@layouts/BaseLayout.astro";

// Import global (not global stores) variables/constants

import PostLayout from "@layouts/PostLayout.astro";

export async function getStaticPaths() {
  const projects = await fetchPostsInCategory(42);

  return projects.map((project: Post) => {
    return {
      params: { projectes: project.slug },
      props: {
        title: project.title.rendered,
        content: project.content.rendered,
        id: project.id,
        date: project.date,
        image: project.image,
      },
    };
  });
}

const project = Astro.props;

---

<BaseLayout pageTitle={project.title}>
  <PostLayout post={project} />
</BaseLayout>
