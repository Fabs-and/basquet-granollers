---
import TopFooter from "@components/footer/topFooter/TopFooter.astro";
import TopFooterTablet from "@components/footer/topFooter/TopFooterTablet.astro";
import TopFooterMobile from "@components/footer/topFooter/TopFooterMobile.astro";
import BottomFooter from "@components/footer/bottomFooter/BottomFooter.astro";
import BottomFooterTablet from "@components/footer/bottomFooter/BottomFooterTablet.astro";
import BottomFooterMobile from "@components/footer/bottomFooter/BottomFooterMobile.astro";
import {extractTopFooterInfo, extractBottomFooterInfo} from "@utils/helperFunctions";
import {
  bottomFooterLinks,
  topFooterImportantLinks,
  copyright,
} from "src/data/footer";
import { fetchPageBySlug } from "fetch-wordpress-api";
import HomePageSectionLayout from "./HomePageSectionLayout.astro";

const footerData = await fetchPageBySlug("peu-de-pagina");

const {content: {rendered: content}} = footerData[0];

const topFooterLinks = extractTopFooterInfo(content);

const bottomFooterLinks = extractBottomFooterInfo(content);



---

<footer>
  <section class="footer-top-section">
    <HomePageSectionLayout>
      <nav class="top-footer">
        <TopFooter {topFooterLinks}/>
      </nav>
    </HomePageSectionLayout>

    <nav class="top-footer tablet">
      <TopFooterTablet {topFooterLinks}  />
    </nav>

    <nav class="top-footer mobile">
      <TopFooterMobile {topFooterLinks} />
    </nav>
  </section>

  <section class="bottom-footer-section">
    <div class="bottom-footer-desktop">
      <BottomFooter {bottomFooterLinks} {copyright} />
    </div>
    <div class="tablet">
      <BottomFooterTablet {bottomFooterLinks} {copyright} />
    </div>
    <div class="mobile">
      <BottomFooterMobile {bottomFooterLinks} {copyright} />
    </div>
  </section>
</footer>

<style>
  footer {
    font-size: var(--font-size-footer);
  }

  .footer-top-section {
    background-color: var(--clr-footer);
    padding-block: 4.5rem;
    padding-inline: var(--padding-inline)
  }
  
  .bottom-footer-desktop {
    padding-block: 2rem;
    padding-inline: var(--padding-inline);
  }
  .top-footer {
    /* min-height: var(--footer-top-section-hg); */
   
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .tablet,
  .mobile {
    display: none;
  }

  .bottom-footer-section {
    /* padding-inline: var(--padding-inline); */
  }

  @media (width < 965px) {
    .top-footer,
    .bottom-footer-desktop {
      display: none;
    }
   
    .tablet {
      display: block;
    }

    .footer-top-section,
    .bottom-footer-section {
      padding-inline: var(--padding-inline-tablet);
    }

    .footer-top-section {
      padding-block: 3.19rem;
    }

    .bottom-footer-desktop {
    padding-block: 2rem;
  }
  }

  @media (width < 648px) {
    .tablet {
      display: none;
    }

    .footer-top-section,
    .bottom-footer-section {
      padding-inline: var(--padding-inline-mobile);
    }

    .footer-top-section {
      padding-block: 2rem;
    }
   
    .mobile {
      display: block;
    }
  }

  @media (width > 1400px) {
    /* .top-footer {
      max-width: 1400px;
      margin:auto;
      padding-inline: var(--padding-inline);
    } */

    .bottom-footer-section {
    
      padding-inline: 0rem;
    }
  }
</style>
