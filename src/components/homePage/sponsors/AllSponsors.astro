---
import { fetchImagesInPageBySlug } from "fetch-wordpress-api";

const mainSponsorsBlue = await fetchImagesInPageBySlug(
  "patrocinadors-principals-logos-blaus",
);

const otherSponsors = await fetchImagesInPageBySlug("altres-patrocinadors");



---

<!-- <script>
  function checkWrap(container) {
    const items = container.children;
    if (items.length > 1) {
        const firstItem = items[0];
        const lastItem = items[items.length - 1];
        if (firstItem.offsetTop !== lastItem.offsetTop) {
            // Wrapping has occurred, apply space-between
            container.style.justifyContent = 'space-between';
        } else {
            // No wrapping, apply center
            container.style.justifyContent = 'center';
        }
    }
}

// Call this function whenever the window is resized or items are added/removed
window.addEventListener('resize', () => {
    const container = document.querySelector('.other-sponsors-container');
    checkWrap(container);
});

</script> -->

<section class="sponsors-outter-container">
  <div class="inner-containers">
    <p>Patrocinadors principals</p>
    <nav>
      <ul class="main-sponsors-container">
        {
          mainSponsorsBlue.map((mainSponsor) => (
            <li>
              <a
                href={mainSponsor.caption}
                target="_blank"
                rel="noopener noreferrer"
              >
                <img
                  src={mainSponsor.url}
                  alt={mainSponsor.alt}
                  loading="lazy"
                />
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
  </div>
  <div class="inner-containers">
    <p>Patrocinadors equips</p>
    <nav>
      <ul class="other-sponsors-container">
        {
          otherSponsors.map((otherSponsor) => (
            <li>
              <a
                href={otherSponsor.caption}
                target="_blank"
                rel="noopener noreferrer"
              >
                <img
                  class="other-sponsors-images"
                  src={otherSponsor.url}
                  alt={otherSponsor.alt}
                  loading="lazy"
                />
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
  </div>
</section>

<style>
  .sponsors-outter-container {
    background-color: var(--clr-contrast);
    color: var(--clr-primary);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-block: 3rem;
    padding-inline: var(--padding-inline);
    gap: 2.5rem;
  }

  nav {
    width: 100%;
  }
  .inner-containers {
    width: 100%;
    max-width: 1200px; /* or whatever maximum width you desire */
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2.5rem;
  }

  .main-sponsors-container {
    display: flex;
    align-items: center;
    gap: 4.11rem;
    justify-content: center;
  }

  .other-sponsors-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center; /* This will center the items horizontally */
    align-content:start; /* This will center the items vertically when there's more than one row */
    gap: 4.11rem;
    width: 100%;
    max-width: 1200px; /* Or whatever maximum width you desire */
    margin: 0 auto; /* This will center the container itself */
}

.other-sponsors-container li {
    max-width: 123.29px; /* This ensures the items don't grow beyond 104px */
    height: 58.96px; /* This sets the height of the items */
}

.other-sponsors-images {
    /* width: 100%; */
    height: 100%; /* This ensures the image takes up the full height of the list item */
    object-fit: contain; /* This keeps the image aspect ratio while covering the area */
    margin: auto;
}

  p {
    width: 100vw;
    text-align: center;
    position: relative;
  }

  p::before {
    content: "";
    height: 1px;
    width: calc(50% - 6rem);
    background-color: #d8d8d8;
    position: absolute;
    top: 50%;
    left: 0;
  }

  p::after {
    content: "";
    height: 1px;
    width: calc(50% - 6rem);
    background-color: #d8d8d8;
    position: absolute;
    top: 50%;
    right: 0;
  }

  

  @media (width < 1025px) {
    .sponsors-outter-container {
      padding-inline: var(--padding-inline-tablet);
    }
  }

  @media (width < 680px) {
    .sponsors-outter-container {
      padding-inline: var(--padding-inline-mobile);
    }

    .main-sponsors-container {
      gap: 2rem;
    }

    .other-sponsors-container {
      gap: 2rem;
    }

    .other-sponsors-container li {
    max-width: 92.28px; /* This ensures the items don't grow beyond 104px */
    height: 43.13px; /* This sets the height of the items */
 

  }
</style>
