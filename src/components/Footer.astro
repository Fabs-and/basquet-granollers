---
import SocialMediaMenu from '@components/SocialMediaMenu.astro';

import { collapsibleArrow } from '@icons/icons';

import {
  bottomFooterLinks,
  topFooterLinks,
  topFooterImportantLinks,
} from 'src/data/footer';
const currentYear = new Date().getFullYear();
---

<footer>
  <nav class='top-section'>
    {
      topFooterLinks.map((category) => (
        <article>
          <header>
            <h5>{category.title.toUpperCase()}</h5>
          </header>

          <ul class='links-container'>
            {category.links.map((link) => (
              <li>
                <a href={link.slug}>{link.name}</a>
              </li>
            ))}
          </ul>
        </article>
      ))
    }

    <article>
      <ul class='last-article'>
        {
          topFooterImportantLinks.map((link) => (
            <li>
              <a
                href={`/${link.slug}`}
                target='_blank'
                rel='noopener noreferrer'
              >
                <h5>{link.name.toUpperCase()}</h5>
              </a>
            </li>
          ))
        }
      </ul>
    </article>
  </nav>
  <nav class='top-section-tablet'>
    <article class='collapsible-item'>
      {
        topFooterLinks.map((category) => (
          <>
            <button class='collapsible'>
              <>
                <h5>{category.title.toUpperCase()}</h5>
                <Fragment set:html={collapsibleArrow} />
              </>
            </button>
            <ul class='links-container-tablet'>
              {category.links.map((link) => (
                <li>
                  <a href={link.slug}>{link.name}</a>
                </li>
              ))}
            </ul>
          </>
        ))
      }
    </article>

    <article>
      <ul class='last-article'>
        {
          topFooterImportantLinks.map((link) => (
            <li>
              <a
                href={`/${link.slug}`}
                target='_blank'
                rel='noopener noreferrer'
              >
                <h5>{link.name.toUpperCase()}</h5>
              </a>
            </li>
          ))
        }
      </ul>
    </article>
  </nav>
  <section class='bottom-section'>
    <div>
      {
        bottomFooterLinks.map((link) => (
          <a
            class='bottom-footer-links'
            href={`/${link.slug}`}
            target='_blank'
            rel='noopener noreferrer'
          >
            {link.name}
          </a>
        ))
      }
    </div>{
      (
        <>
          <small>
            Web Propietat del Club Bàsquet Granollers. Copyright © {currentYear}
            . All rights reserved
          </small>
          <SocialMediaMenu />
        </>
      )
    }
  </section>
</footer>

<style>
  footer {
    font-size: var(--font-size-footer);
    height: var(--footer-hg);
  }

  .top-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: var(--footer-top-section-hg);
    background-color: var(--clr-footer);
    padding-inline: var(--padding-inline);
  }

  .top-section-tablet {
    display: none;
  }

  article {
    display: flex;
    flex-direction: column;
    height: 8.0625rem;
  }

  article header {
    margin-bottom: 0.5rem;
  }

  .links-container {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    justify-content: space-between;
  }

  .links-container-tablet {
    display: none;
  }
  .last-article {
    display: flex;
    height: inherit;
    flex-direction: column;
    justify-content: space-between;
    width: 13.7rem;
  }

  .bottom-section {
    height: var(--footer-bottom-section-hg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-inline: var(--padding-inline);
  }

  small {
    font-size: inherit;
  }

  .bottom-footer-links {
    text-decoration: underline;
  }

  .bottom-footer-links:not(:last-child) {
    margin-right: 1.62rem;
  }

  @media (width < 952px) {
    .top-section {
      display: none;
    }

    .top-section-tablet {
      display: flex;
      align-items: center;
      /* padding-block: 3.19rem; */
      justify-content: space-between;
      height: var(--footer-top-section-hg);
      background-color: var(--clr-footer);
      padding-inline: var(--padding-inline);
    }

    .collapsible-item {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    button {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.7rem;
    }
  }
</style>

